<section id="hero" class="bg-gray-900" *ngIf="isReady">
  <div class="container flex flex-col
        md:flex-row items-center px-6 mx-auto py-6
        lg:space-y-0  ">

    <div class="">
      <img src="{{ playerData.avatarImageFull }}" class=" border-2" alt="profile picture of the player">
    </div>

    <div class=" flex flex-row  mt-10 px-6 grow">
      <div  class=" md:w-1/2 text-neutral-400">
        <div class="flex flex-col ">
          <div class="flex flex-row mx-auto lg:mx-0">
            <h3 class=" flex-col lg:text-5xl text-4xl  ">{{playerData.personaName}}</h3>
          </div>

          <div class="flex flex-row  mx-auto lg:mx-0 ">
            <a href={{playerData.profileurl}}><fa-icon [icon]="['fab','steam']" class=" text-blue-400 mr-2"></fa-icon>
              Steam Profile
            </a>
          </div>
        </div>

        <div class="flex lg:flex-row flex-col mt-4 items-center">
          <h6 class="text-lg">Estimated MMR: {{playerData.mmrEstimate}} </h6>
          <img src={{estimatedMedal}} alt="" class="flex flex-col lg:w-1/6 w-2/6 h-3/6 " alt="estimated">
        </div>

        <div class="flex lg:flex-row flex-col mt-4 items-center">
          <h6 class="text-lg">Won: <span class="text-lime-500">588</span></h6>
          <h6 class="text-lg lg:ml-2">Lost: <span class="text-rose-400">621</span></h6>
        </div>

      </div>
    </div>

    <div class="flex flex-col lg:w-1/6 w-2/6 h-3/6 items-center mt-10">
      <div class="flex flex-row mx-auto">
        <img src="{{realMedal}}" alt="">
        
      </div>
    </div>

  </div>
</section>

<section class="  overflow-x-auto  bg-gray-800" *ngIf="isReady">
  <div class="flex justify-center text-2xl p-2 mt-10 text-neutral-400">
    Recent Matches
  </div>
  <div class="md:flex md:justify-center md:space-x-10 sm:block ">
    <table class="table text-gray-400 border-separate space-y-6 text-sm">
      <thead>
          <th>Hero</th>
          <th>Result</th>
          <th>Score</th>
          <th>Team</th>
          <th>Rank</th>
      </thead>
      <tbody>
            <tr *ngFor="let match of matches" class="bg-gray-600">
              <a href="/matches/detail/{{match.matchId}}">
                <td  class=" font-medium text-gray-900  dark:text-white">
                  <img src="http://api.opendota.com{{ match.hero.image }}" alt="" class="rounded-full h-16 w-16  object-cover">
                </td>
                <td [ngClass]="match.playerWon ? 'text-lime-500	' : 'text-rose-400	'">
                  {{ match.playerWon  && "Won" || "Lost"}}
                </td>
                <td>
                    {{ match.kills + "/" + match.deaths + "/" + match.assists}}
                </td>
                <td  >
                    {{ match.faction }}
                </td>
                <td >
                  <ng-container *ngIf="match.averageRank!=0; then rank; else noRank"></ng-container>
                  
                  <ng-template #rank>
                    <img src="{{ this.calculateRealRank(match.averageRank) }}" alt=""  class="rounded-full h-16 w-16  object-cover">
                  </ng-template>
                  <ng-template #noRank>
                    <img src="../../../assets/rank/rank1.webp" alt="" class="rounded-full h-16 w-16  object-cover">
                  </ng-template>
                </td>
              </a>
            </tr>
        </tbody>
    </table>
  </div>
</section>



